# 方案详情页功能说明

## 概述

方案详情页是门窗设计工具的核心页面之一，提供完整的方案查看、管理和导出功能。该页面是设计工具流程和AI封窗建议流程的最终展示页面。

## 页面路由

- **方案列表页**: `/schemes`
- **方案详情页**: `/schemes/[id]`

## 页面结构

### 1. 顶部导航栏

#### 面包屑导航
```
首页 > 我的方案 > 未分类 > 方案详情
```
- 支持点击返回上级页面
- 清晰显示当前位置

#### 快捷操作按钮
- **复制**: 快速复制当前方案
- **编辑**: 进入编辑模式
- **分享**: 分享方案给他人
- **删除**: 删除当前方案（需确认）

### 2. 方案概览区

#### 左侧：楼层示意图
- 显示户型/楼层结构图（带尺寸标注）
- "设置为封面"按钮：将示意图设置为方案封面

#### 右侧：方案基础信息
- **方案名称**：支持点击编辑重命名
- **评分系统**：显示方案评分（如 5.0 分）
- **更新时间**：显示最后修改时间
- **地理位置**：城市 + 区域
- **面积信息**：
  - 总面积
  - 建筑面积
  - 套内面积
- **基础信息**：
  - 楼层信息
  - 创建日期
  - 作者名称
  - 隐私设置
- **方案标签**：支持编辑和自定义标签

### 3. 操作按钮组

#### 主要操作
- **去设计** (主按钮)：跳转到方案编辑器进行设计
- **3D预览**：打开三维预览界面
- **图册**：查看方案所有图片集合

#### 下拉菜单操作

**全景图下拉**：
- 客厅全景
- 卧室全景
- 阳台全景

**管理方案下拉**：
- 复制方案
- 重命名
- 移动到其他分类
- 删除方案

**导出下拉**：
- 导出为图片
- 导出为PDF
- 导出为PPT
- 导出报价单
- 导出施工图

### 4. 门窗方案详情

#### 方案统计
- 门窗总数量
- 门窗类型汇总
- 门窗总面积

#### 门窗列表展示
每个门窗包含：
- **效果图**：门窗可视化预览
- **基本信息**：
  - 门窗类型（推拉窗、平开窗等）
  - 安装位置
  - 数量
- **规格参数**：
  - 尺寸（宽 × 高）
  - 材质（如断桥铝）
  - 颜色
  - 品牌型号
  - 玻璃类型

#### 文件下载
- 门窗方案施工说明PDF
- 安装指南
- 产品规格书
- 报价清单

### 5. 多标签内容区

#### Tab 1: 装修效果图
- 展示已渲染的效果图
- 空状态：提示用户去渲染
- 支持图片网格浏览

#### Tab 2: 精选图
- 方案中的亮点设计图片
- 用户可选择精选图片
- 空状态提示

#### Tab 3: 施工图
- 结构施工图纸
- 门窗施工详图
- 支持生成施工图功能
- 空状态提示

#### Tab 4: 提案PPT
- 提案演示文件列表
- 支持预览和下载
- 显示文件信息（名称、大小、日期）
- 支持生成提案PPT功能

## 页面特性

### 响应式设计
- 完全适配桌面、平板和移动设备
- iPad横屏/竖屏优化
- 流畅的布局切换

### 交互体验
- 悬停效果和过渡动画
- 加载骨架屏（Loading态）
- 空状态提示和引导
- 即时反馈的操作确认

### 数据展示
- 清晰的信息层级
- 直观的视觉呈现
- 多维度数据展示
- 易于理解的统计信息

## 使用流程

### 1. 从设计工具进入
```
开始设计 → 完成设计 → 生成方案 → 方案详情页
```

### 2. 从AI建议进入
```
AI封窗建议 → 选择方案 → 生成方案 → 方案详情页
```

### 3. 从方案列表进入
```
我的方案 → 选择方案 → 方案详情页
```

## 功能扩展点

### 即将支持的功能
- [ ] 在线协作编辑
- [ ] 版本历史记录
- [ ] 成本预算分析
- [ ] 材料用量计算
- [ ] 实时报价更新
- [ ] 施工进度追踪
- [ ] 客户评价系统
- [ ] 方案对比功能

### 导出功能增强
- [ ] 自定义导出模板
- [ ] 批量导出多个方案
- [ ] 云端存储集成
- [ ] 直接发送到邮箱
- [ ] 生成二维码分享

### AI辅助功能
- [ ] AI优化建议
- [ ] 智能成本控制
- [ ] 节能分析报告
- [ ] 隔音效果预测
- [ ] 材料替代推荐

## 技术实现

### 核心技术栈
- **框架**: Next.js 15 (App Router)
- **UI组件**: shadcn/ui
- **样式**: Tailwind CSS
- **状态管理**: React Hooks
- **类型检查**: TypeScript

### 性能优化
- 图片懒加载
- 代码分割
- 服务端渲染
- 缓存策略
- 骨架屏加载

### 数据结构

```typescript
interface Scheme {
  id: string
  name: string
  rating: number
  updateTime: string
  location: {
    city: string
    district: string
  }
  area: {
    total: number
    building: number
    inside: number
  }
  floor: string
  createDate: string
  author: string
  tags: string[]
  privacy: string
  floorPlan: string
  windows: Window[]
  renderings: string[]
  selectedImages: string[]
  constructionDrawings: string[]
  presentations: Presentation[]
}

interface Window {
  id: string
  type: string
  location: string
  width: number
  height: number
  material: string
  color: string
  brand: string
  glassType: string
  quantity: number
}
```

## 设计原则

1. **信息清晰**: 重要信息优先展示，层级分明
2. **操作便捷**: 常用功能一键直达，减少操作步骤
3. **视觉统一**: 保持设计语言和交互模式的一致性
4. **响应迅速**: 优化性能，确保流畅体验
5. **容错友好**: 提供明确的错误提示和恢复方式

## 相关页面

- `/schemes` - 方案列表页
- `/design` - 设计工具页
- `/ai` - AI封窗建议页
- `/design?schemeId=[id]` - 编辑已有方案

## 更新日志

### v1.0.0 (2024-10-31)
- ✅ 初始版本发布
- ✅ 完整的方案信息展示
- ✅ 门窗详情展示
- ✅ 多标签内容切换
- ✅ 操作按钮组
- ✅ 响应式布局
- ✅ 加载状态处理
- ✅ 空状态提示


